<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Valentine?</title>

<style>
  * {
    box-sizing: border-box;
    font-family: Arial, sans-serif;
  }

  body {
    margin: 0;
    height: 100vh;
    background: linear-gradient(135deg, #ffd6e8, #fff0f6);
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .container {
    text-align: center;
    position: relative;
    padding: 20px;
  }

  h1 {
    font-size: clamp(1.8rem, 5vw, 3rem);
    color: #c9184a;
    margin-bottom: 40px;
  }

  .buttons {
    position: relative;
    height: 120px;
  }

  #yes {
    font-size: clamp(1.2rem, 4vw, 2.2rem);
    padding: 15px 40px;
    background-color: #ff4d6d;
    color: white;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    margin-right: 20px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.15);
  }

  #no {
    font-size: 0.9rem;
    padding: 6px 12px;
    background-color: #adb5bd;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    position: fixed;
  }

  /* Improve mobile tap responsiveness */
  #no, #yes {
    touch-action: manipulation;
  }

  /* YAAY screen */
  .yay {
    display: none;
    font-size: clamp(2rem, 6vw, 4rem);
    color: #ff4d6d;
    position: relative;
  }

  .confetti {
    position: absolute;
    top: 50%;
    font-size: 2.5rem;
    animation: pop 1.2s infinite ease-in-out;
  }

  .confetti.left { left: -80px; }
  .confetti.right { right: -80px; }

  @keyframes pop {
    0% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.4) rotate(20deg); }
    100% { transform: scale(1) rotate(0deg); }
  }

  /* Floating hearts */
  .heart {
    position: absolute;
    color: rgba(255, 77, 109, 0.25);
    animation: float linear infinite;
  }

  @keyframes float {
    from { transform: translateY(100vh); }
    to { transform: translateY(-10vh); }
  }
</style>
</head>
<body>

<div class="container" id="main">
  <h1>Will you be my Valentine? ðŸ’–</h1>
  <div class="buttons">
    <button id="yes">Yes</button>
    <button id="no">No</button>
  </div>
</div>

<div class="container yay" id="yayScreen">
  YAAYYY ðŸŽ‰
  <div class="confetti left">ðŸŽ‰ðŸŽŠ</div>
  <div class="confetti right">ðŸŽŠðŸŽ‰</div>
</div>

<script>
  const noBtn = document.getElementById('no');
  const yesBtn = document.getElementById('yes');
  const main = document.getElementById('main');
  const yayScreen = document.getElementById('yayScreen');

  let speedLevel = parseInt(localStorage.getItem('noSpeed')) || 4;
  let dx = 1.5 * speedLevel;
  let dy = 1.5 * speedLevel;

  let x = 0;
  let y = 0;
  let maxX = 0;
  let maxY = 0;
  let isPaused = false;

  function updateBounds() {
    maxX = window.innerWidth - noBtn.offsetWidth;
    maxY = window.innerHeight - noBtn.offsetHeight;

    x = Math.min(Math.max(x, 0), maxX);
    y = Math.min(Math.max(y, 0), maxY);
  }

  function initPosition() {
    updateBounds();
    x = Math.random() * maxX;
    y = Math.random() * maxY;
    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";
  }

  function moveNo() {
    if (!isPaused) {
      x += dx;
      y += dy;

      if (x <= 0 || x >= maxX) {
        dx *= -1;
        x = Math.min(Math.max(x, 0), maxX);
      }

      if (y <= 0 || y >= maxY) {
        dy *= -1;
        y = Math.min(Math.max(y, 0), maxY);
      }

      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";
    }

    requestAnimationFrame(moveNo);
  }

  /* Pointer Events (Mouse + Touch + Pen) */
  noBtn.addEventListener("pointerdown", () => isPaused = true);
  noBtn.addEventListener("pointerup", () => isPaused = false);
  noBtn.addEventListener("pointercancel", () => isPaused = false);

  /* No button click */
  noBtn.addEventListener("click", () => {
    isPaused = true;
    noBtn.style.display = "none";

    const message = document.createElement("h2");
    message.textContent = "Wrong Answer. Start Again ðŸ˜ˆ";
    message.style.color = "#c9184a";
    message.style.marginTop = "20px";
    main.appendChild(message);

    localStorage.setItem("noSpeed", speedLevel + 1);

    setTimeout(() => location.reload(), 1800);
  });

  /* Yes button */
  yesBtn.addEventListener("click", () => {
    main.style.display = "none";
    yayScreen.style.display = "block";
    localStorage.removeItem("noSpeed");
  });

  /* Handle resize & orientation changes */
  window.addEventListener("resize", updateBounds);

  /* Floating hearts (lightweight) */
  for (let i = 0; i < 20; i++) {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.textContent = "â¤";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.fontSize = (1 + Math.random() * 1.5) + "rem";
    heart.style.animationDuration = (6 + Math.random() * 6) + "s";
    document.body.appendChild(heart);
  }

  initPosition();
  moveNo();
</script>

</body>
</html>
